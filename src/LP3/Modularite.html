

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Méthodes de programmation modulaire &#8212; Spécialité NSI Terminale</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/mystnb.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PARADIGMES DE PROGRAMMATION" href="../LP4/paradigmes.html" />
    <link rel="prev" title="Vocabulaire de la programmation objet - Manipuler des classes - Exercices" href="../SDD2/Exercices_OOP.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo_LBO.jpg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spécialité NSI Terminale</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="">
    <a href="../../intro.html">NUMERIQUE & SCIENCE INFORMATIQUE - Terminale</a>
  </li>
  <li class="">
    <a href="../accueil/serveur_nsi.html">UTILISATION DU SERVEUR nsiboisdo.bdrd.fr</a>
  </li>
  <li class="">
    <a href="../LP2/Recursivite.html">RECURSIVITE</a>
  </li>
  <li class="">
    <a href="../LP2/Activites_Recursivite.html">Fiche d’activité 1</a>
  </li>
  <li class="">
    <a href="../SDD1/Structures_de_données.html">Structures de données: implémentation et interface</a>
  </li>
  <li class="">
    <a href="../SDD1/Structures_de_données_1_Exercice.html">Exercice: implémenter une file bornée avec un tableau</a>
  </li>
  <li class="">
    <a href="../SDD2/Vocabulaire_OOP.html">Vocabulaire de la programmation objet</a>
  </li>
  <li class="">
    <a href="../SDD2/Exercices_OOP.html">Vocabulaire de la programmation objet - Manipuler des classes - Exercices</a>
  </li>
  <li class="active">
    <a href="">Méthodes de programmation modulaire</a>
  </li>
  <li class="">
    <a href="../LP4/paradigmes.html">PARADIGMES DE PROGRAMMATION</a>
  </li>
  <li class="">
    <a href="../LP4/paradigmes_exercices.html">Paradigmes - Exercices</a>
  </li>
  <li class="">
    <a href="../LP5/map_programmes.html">MISE AU POINT DE PROGRAMMES</a>
  </li>
  <li class="">
    <a href="../SDD3/liste.html">STRUCTURE DE DONNEES: LISTE</a>
  </li>
  <li class="">
    <a href="../SDD3/Exercices_liste.html">Exercices</a>
  </li>
  <li class="">
    <a href="../SDD4/Arbres.html">ARBRES</a>
  </li>
  <li class="">
    <a href="../SDD4/Exercices_arbres.html">Exercices - Arbres</a>
  </li>
  <li class="">
    <a href="../A1_algo_arbres/ABR.html">ALGORITHMES SUR LES ABR</a>
  </li>
  <li class="">
    <a href="../SDD5/Les_graphes_introduction.html">INTRODUCTION AUX GRAPHES</a>
  </li>
  <li class="">
    <a href="../SDD5/Graphes_Exercices_I.html">Exercices - Représentations d’un graphe</a>
  </li>
  <li class="">
    <a href="../A2_algo_graphes/Algorithmes_graphes.html">ALGORITHMES SUR LES GRAPHES</a>
  </li>
  <li class="">
    <a href="../A2_algo_graphes/Exercices_algo_graphes_A2.html">Algorithmes des graphes - Exercices</a>
  </li>
</ul>
</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../../_sources/src/LP3/Modularite.ipynb.txt"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.ipynb</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Edit this page -->
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
            <div class="dropdown-buttons">
                
                <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/src/LP3/Modularite.ipynb"><button type="button" class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip" data-placement="left"><img class="binder-button-logo" src="../../_static/images/logo_binder.svg" alt="Interact on binder">Binder</button></a>
                
                
                
            </div>
        </div>
        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#avantages-d-une-programmation-modulaire" class="nav-link">Avantages d’une programmation modulaire</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#activite-1-traitement-de-donnees-au-format-json" class="nav-link">Activité 1: traitement de données au format JSON</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#presentation-rapide-du-format-json" class="nav-link">Présentation rapide du format json</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#le-travail-a-realiser" class="nav-link">Le travail à réaliser</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#activite-2-creer-son-module" class="nav-link">Activité 2: créer son module</a>
        </li>
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="methodes-de-programmation-modulaire">
<h1>Méthodes de programmation modulaire<a class="headerlink" href="#methodes-de-programmation-modulaire" title="Permalink to this headline">¶</a></h1>
<div class="section" id="avantages-d-une-programmation-modulaire">
<h2>Avantages d’une programmation modulaire<a class="headerlink" href="#avantages-d-une-programmation-modulaire" title="Permalink to this headline">¶</a></h2>
<p>En première on a introduit les fonctions en réponse à la répétition de code au sein d’un programme. Cependant, la répétition des fonctions entre programmes est encore possible. Une solution est de regrouper ces fonctions et classes dans un <strong>module</strong>. On <strong>décompose</strong> ainsi une application en module(s) qui peuvent être <strong>développés indépendamment</strong> et <strong>réutilisés</strong> dans d’autres applications.</p>
<p>Par ailleurs, cette organisation limite ou <strong>supprime les doublons</strong> de code, facilitant ainsi la maintenance (<em>un bug est corrigé une fois</em>).</p>
<p>Enfin, la programmation modulaire permet d’une certaine façon de <strong>cacher des détails d’implémentation</strong>, l’interaction utilisateur-module se faisant par le biais de l’interface.</p>
<p>Il s’agira dans cette fiche d’activité d’abord de se placer en temps qu’utilisateur de modules en se référant à leur API, puis en temps que concepteur d’un module simple.</p>
</div>
<div class="section" id="activite-1-traitement-de-donnees-au-format-json">
<h2>Activité 1: traitement de données au format JSON<a class="headerlink" href="#activite-1-traitement-de-donnees-au-format-json" title="Permalink to this headline">¶</a></h2>
<div class="section" id="presentation-rapide-du-format-json">
<h3>Présentation rapide du format json<a class="headerlink" href="#presentation-rapide-du-format-json" title="Permalink to this headline">¶</a></h3>
<p>Le fichier <code class="docutils literal notranslate"><span class="pre">json</span></code> est un fichier texte contenant de l’information structurée, très utilisé sur internet. Cette structuration est assurée par deux types d’éléments:</p>
<ul class="simple">
<li><p>des paires clé/valeur (qui rappelle les dictionnaires de python);</p></li>
<li><p>de listes ordonnées de valeurs.</p></li>
</ul>
<p>Voir <a class="reference external" href="https://fr.wikipedia.org/wiki/JavaScript_Object_Notation">json sur wikipedia</a>. Voici un exemple de données au format <code class="docutils literal notranslate"><span class="pre">json</span></code>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;menu&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
        <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span><span class="p">,</span>
        <span class="nt">&quot;popup&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;menuitem&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;New&quot;</span><span class="p">,</span> <span class="nt">&quot;onclick&quot;</span><span class="p">:</span> <span class="s2">&quot;CreateNewDoc()&quot;</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Open&quot;</span><span class="p">,</span> <span class="nt">&quot;onclick&quot;</span><span class="p">:</span> <span class="s2">&quot;OpenDoc()&quot;</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Close&quot;</span><span class="p">,</span> <span class="nt">&quot;onclick&quot;</span><span class="p">:</span> <span class="s2">&quot;CloseDoc()&quot;</span> <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="le-travail-a-realiser">
<h3>Le travail à réaliser<a class="headerlink" href="#le-travail-a-realiser" title="Permalink to this headline">¶</a></h3>
<p>Le <a class="reference external" href="https://openweathermap.org/">site openweathermap</a> permet d’obtenir des informations météo dans beaucoup de villes du monde entier. Pour obtenir le temps dans une ville donnée, il faut fournir un identifiant unique ou la paire lattitude/longitude. Openweathermap propose un fichier <code class="docutils literal notranslate"><span class="pre">json</span></code> contenant ces informations. Ce fichier est disponible ici: <code class="docutils literal notranslate"><span class="pre">./json/city.list.json</span></code>. <strong>Ne pas l’ouvrir, il a une taille de 33 Mo !!</strong>. Sa forme est la suivante:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{&#39;coord&#39;: {&#39;lat&#39;: -21.1, &#39;lon&#39;: 55.299999},
 &#39;country&#39;: &#39;RE&#39;,
 &#39;id&#39;: 935146,
 &#39;name&#39;: &#39;Les Trois-Bassins&#39;,
 &#39;state&#39;: &#39;&#39;}
</pre></div>
</div>
<p>Le but de cette partie est d’extraire de ce fichier uniquement les informations concernant les villes de la Réunion et de les sauvegarder dans un fichier au format json. Le fichier obtenu devrait être nettement moins lourd et plus facilement utilisable (une soixantaine d’entrées au lieu de plus de 200 000 dans le fichier original).</p>
<p><em>Rappels</em><br />
Pour importer un module, on peut utiliser la syntaxe <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">mon_super_module</span></code>; ce qui nous obligera à préfixer chaque appel de fonction par <code class="docutils literal notranslate"><span class="pre">mon_super_module.ma_fonction()</span></code>. On peut <em>raccourcir</em> les appels en utilisant un alias lors de l’import: <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">mon_super_module</span> <span class="pre">as</span> <span class="pre">msp</span></code>, on appelle alors <code class="docutils literal notranslate"><span class="pre">msp.ma_fonction()</span></code>.<br />
Enfin, on peut cibler une fonction précise à importer. Dans ce cas, on utilisera la syntaxe: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">mon_super_module</span> <span class="pre">import</span> <span class="pre">ma_fonction</span></code> et l’appel se fera directement par <code class="docutils literal notranslate"><span class="pre">ma_fonction()</span></code> sans préfixe.</p>
<ol class="simple">
<li><p>Prendre connaissance de l’api du module json, en ligne sur <a class="reference external" href="https://docs.python.org/fr/3.8/library/json.html">python.org</a> ou à défaut dans une cellule de Jupyter en utilisant les fonctions <code class="docutils literal notranslate"><span class="pre">dir</span></code> et <code class="docutils literal notranslate"><span class="pre">help</span></code>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>


<span class="nb">dir</span><span class="p">(</span><span class="n">json</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;JSONDecodeError&#39;,
 &#39;JSONDecoder&#39;,
 &#39;JSONEncoder&#39;,
 &#39;__all__&#39;,
 &#39;__author__&#39;,
 &#39;__builtins__&#39;,
 &#39;__cached__&#39;,
 &#39;__doc__&#39;,
 &#39;__file__&#39;,
 &#39;__loader__&#39;,
 &#39;__name__&#39;,
 &#39;__package__&#39;,
 &#39;__path__&#39;,
 &#39;__spec__&#39;,
 &#39;__version__&#39;,
 &#39;_default_decoder&#39;,
 &#39;_default_encoder&#39;,
 &#39;codecs&#39;,
 &#39;decoder&#39;,
 &#39;detect_encoding&#39;,
 &#39;dump&#39;,
 &#39;dumps&#39;,
 &#39;encoder&#39;,
 &#39;load&#39;,
 &#39;loads&#39;,
 &#39;scanner&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#remplacer les xxxx par le nom de la méthode</span>
<span class="c1">#help(json.xxxx)</span>
</pre></div>
</div>
</div>
</div>
<ol class="simple">
<li><p>Quelles sont les deux fonctions du module <code class="docutils literal notranslate"><span class="pre">json</span></code> susceptibles de nous intéresser en vue d’une ouverture et d’une écriture de fichiers json ?</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse</span>
</pre></div>
</div>
</div>
</div>
<ol class="simple">
<li><p>Utilisation des fonctions du module json sur le fichier <code class="docutils literal notranslate"><span class="pre">city.list.json</span></code>.<br />
<em>On va extraire que les informations concernant les villes de la Réunion</em>.<br />
a) Quelle fonction doit-on utiliser pour transformer ce fichier en une structure utilisable en python ? Réaliser cette opération en complétant le code ci-dessous.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="c1">#Ne pas modifier ces 3 lignes--&gt; récupère le chemin du fichier origine</span>
<span class="n">json_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="s2">&quot;json&quot;</span>
<span class="n">json_path</span> <span class="o">=</span> <span class="n">json_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
<span class="n">f_origine</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">json_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;city.list.json&#39;</span><span class="p">))</span>

<span class="c1"># Décommenter la ligne suivante</span>
<span class="c1">#gros_fichier_json = open(f_origine, &#39;r&#39;)</span>
<span class="c1">#A compléter à partir d&#39;ici</span>
<span class="c1">#structure_python = </span>
</pre></div>
</div>
</div>
</div>
<p>b. Quelle est le type de la structure obtenue et combien d’entrées possède-t-elle?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse</span>
</pre></div>
</div>
</div>
</div>
<p>c) Afficher la 1ere entrée.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse</span>
</pre></div>
</div>
</div>
</div>
<p>d) Proposer un code permettant de sauver les entrées qui ne concernent que la Réunion dans un tableau.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse</span>
<span class="n">villes_reunion</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1">#A compléter</span>
</pre></div>
</div>
</div>
</div>
<p>e) Combien d’entrée possède ce nouveau tableau ?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse</span>
</pre></div>
</div>
</div>
</div>
<p>f) Quelle fonction devra-t-on utilser pour transformer ce tableau et le sauver dans un fichier json ?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse</span>
</pre></div>
</div>
</div>
</div>
<p>g) Proposer un code qui réalise la sauvergarde du tableau <code class="docutils literal notranslate"><span class="pre">villes_reunion</span></code> dans un fichier json <code class="docutils literal notranslate"><span class="pre">villes_reunion.json</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse</span>

<span class="c1">#Ne pas modifier la ligne suivante--&gt; fournit le chemin du fichier json réduit</span>
<span class="n">f_reduit</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">json_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;villes_reunion.json&quot;</span><span class="p">))</span>

<span class="c1"># Décommenter</span>
<span class="c1">#with open(f_reduit, &quot;w&quot;) as f:</span>
    <span class="c1">#à compléter ici</span>
               
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="activite-2-creer-son-module">
<h2>Activité 2: créer son module<a class="headerlink" href="#activite-2-creer-son-module" title="Permalink to this headline">¶</a></h2>
<p>Comme il a été précisé en introduction, il est important de découper son code en modules afin de pouvoir le réutiliser facilement et d’en assurer une maintenance aisée.</p>
<p><strong>Qu’est-ce qu’un module?</strong><br />
Un module est un fichier texte, d’extension <code class="docutils literal notranslate"><span class="pre">.py</span></code> (ou un fichier binaire <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> qui ne sera pas abordé ici). Il peut contenir des variables, des fonctions des classes et même .. d’autres modules !.  Une bonne pratique en python consiste à placer des commentaires (<em>docstring</em>) au début:</p>
<ul class="simple">
<li><p>des fichiers, pour informer l’utilisateur des diverses fonctionnalités du module;</p></li>
<li><p>des fonctions afin d’en donner les spécifications.</p></li>
</ul>
<p><em>Remarque</em>: un module peut être exécuté comme n’importe quel autre fichier python, si bien qu’on trouve souvent à la fin une portion de code du type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1">#instructions lorsque le module est appelé directement</span>
</pre></div>
</div>
<p><strong>Où placer un module personnel?</strong><br />
Le plus simple, mais pas forcément le plus recommandé, est de placer le module dans le même dossier que les programmes qui en feront appel.</p>
<ol class="simple">
<li><p>Créer un module <code class="docutils literal notranslate"><span class="pre">pile</span></code>, correctement documenté, qui regroupe l’implémentation des opérations courantes sur une structure de donnée de type pile (voir leçon précédente).</p></li>
<li><p>En faire de même en créant un module <code class="docutils literal notranslate"><span class="pre">file</span></code>.</p></li>
<li><p>Créer une file nommée <code class="docutils literal notranslate"><span class="pre">f</span></code> puis enfiler successivement les valeurs 3, 9 et 27. Vérifier si la file f est vide. Enfin, défiler <code class="docutils literal notranslate"><span class="pre">f</span></code> 4 fois de suite. Les résultats sont-ils cohérents?</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Pour les plus rapides: comment créer un package?</strong><br />
Un package ou librairie en français est un dossier <em>spécial</em> dans lequel on regroupe des modules.<br />
Supposons que l’on dispose de 4 modules nommés <code class="docutils literal notranslate"><span class="pre">algo</span></code>, <code class="docutils literal notranslate"><span class="pre">langage</span></code>, <code class="docutils literal notranslate"><span class="pre">machine</span></code> et <code class="docutils literal notranslate"><span class="pre">information</span></code>. On souhaite créer un package <code class="docutils literal notranslate"><span class="pre">nsi</span></code> qui regroupe ces 4 modules. La procédure est la suivante:</p>
<ul class="simple">
<li><p>créer dans le dossier où se situe le programme appelant un dossier nommé <code class="docutils literal notranslate"><span class="pre">nsi</span></code> (en ligne de commande <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">nsi</span></code>);</p></li>
<li><p>créer dans le dossier <code class="docutils literal notranslate"><span class="pre">nsi</span></code> un fichier vide <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> (en ligne de commande <code class="docutils literal notranslate"><span class="pre">touch</span> <span class="pre">nsi/__init__.py</span></code>, attention à la présence des 2 caractères ‘souligné’ en début et fin de nom);</p></li>
<li><p>déplacer les 4 fichiers <code class="docutils literal notranslate"><span class="pre">py</span></code> des modules dans le dossier <code class="docutils literal notranslate"><span class="pre">nsi</span></code>.</p></li>
</ul>
<p>Pour utiliser une fonction <code class="docutils literal notranslate"><span class="pre">tri</span></code> du module <code class="docutils literal notranslate"><span class="pre">algo</span></code>, on utilisera la syntaxe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nsi.algo</span> <span class="kn">import</span> <span class="n">tri</span>
</pre></div>
</div>
<p>ou <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">nsi.algo</span> <span class="pre">import</span> <span class="pre">*</span></code> (<strong>déconseillé</strong>)</p>
<p><strong>Travail</strong>:</p>
<ol class="simple">
<li><p>Réaliser un package nommé <code class="docutils literal notranslate"><span class="pre">sdd</span></code> constitué des modules <code class="docutils literal notranslate"><span class="pre">pile</span></code> et <code class="docutils literal notranslate"><span class="pre">file</span></code>.</p></li>
<li><p>Tester le bon fonctionnement des imports en indiquant les commandes utilisées dans la cellule suivante.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Réponse question 2</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../SDD2/Exercices_OOP.html" title="previous page">Vocabulaire de la programmation objet - Manipuler des classes - Exercices</a>
    <a class='right-next' id="next-link" href="../LP4/paradigmes.html" title="next page">PARADIGMES DE PROGRAMMATION</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Bruno DARID<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../_static/js/index.js"></script>
    
  </body>
</html>